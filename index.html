<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Asteroids do not concern me..</title>
    <link rel="stylesheet" href="style.css" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Permanent+Marker' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Limelight' rel='stylesheet' type='text/css'>


    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-68692328-2', 'auto');
      ga('send', 'pageview');

    </script>
  </head>
  <body>
    <h1>Asteroids!</h1>
    <a class="logo" href="http://www.parkjake.com">by Jake Park</a>
    <div class="display"></div>

    <canvas id="game-canvas" width="800" height="400"></canvas>
    <script src="./lib/jquery.min.js"></script>
    <script src="./lib/display.js"></script>
    <script src="./lib/keymaster.js"></script>
    <script src="./lib/utils.js"></script>
    <script src="./lib/movingObject.js"></script>
    <script src="./lib/asteroid.js"></script>
    <script src="./lib/bullet.js"></script>
    <script src="./lib/explosion.js"></script>
    <script src="./lib/ship.js"></script>
    <script src="./lib/nemesis.js"></script>
    <script src="./lib/game.js"></script>
    <script src="./lib/gameView.js"></script>

    <script>

      function gameViewStart(){
        canvasEl = document.getElementById("game-canvas");

        game = new Asteroids.Game();
        ctx = canvasEl.getContext("2d");

        game.gamedone = false
        game.ship.safe = true
        game.nemesis.safe = true
        game.safety = true
        window.setTimeout(function () {
          game.ship.safe = false
          game.nemesis.safe = false
          game.safety = false
        }, 3000);


        var img_background = new Image();
        img_background.src = './img/space_blue.jpg'
        img_background.onload = function () {
          ctx.drawImage(img_background, 0, 0);
        };

        gameView = new Asteroids.GameView(game, ctx);
        gameView.start();
      }
   </script>

  <script>
  function page1() {
    el = document.getElementById('page1');
    el.style.visibility = 'hidden';
    el = document.getElementById('page2');
    el.style.visibility = 'visible';
  }

  function page2() {
    el = document.getElementById('page2');
    el.style.visibility = 'hidden';
    el = document.getElementById('overlay');
    el.style.visibility = 'visible';
  }


  function overlay() {
    el = document.getElementById('overlay');
    el.style.visibility = 'hidden';
    gamestart();
    // el.style.visibility = (el.style.visibility == 'visible') ? 'hidden' : 'visible';
  }
  // window.onload = overlay;

  function gamestart(){
    gameViewStart();

  }

  function restart(){
    var el = document.getElementById('gameOver');
    el.style.visibility = 'hidden';
    delete game;
    delete gameView;

    gameViewStart();
  }

  </script>




   <div id='page1'>
    <div>
      <p> Welcome to Asteroids!<br>

        An object in motion stays in motion with the same speed and direction,
        unless acted upon by an external force..<br>

      <a href='#' class="next" onclick='page1()'>Continue</a>
      </p>
    </div>
   </div>

   <div id='page2'>
    <div>
      <p class="left"> Player 1:<br>
        <i class="kbd">&#8593;</i> Forward Thrusters!<br>
        <i class="kbd">&#8595;</i> Reverse Thrusters!<br>
        <i class="kbd">&#8592;</i> Turn Left<br>
        <i class="kbd">&#8594;</i> Turn Right<br>
        <i class="kbd">spacebar</i> Fire Bullet<br>
        <i class="kbd">left ctrl</i> EMERGENCY STOP<br>
      </p>
      <!-- <p class="right"> Player 2:<br>
        <i class="kbd">W</i> Forward Thrusters!<br>
        <i class="kbd">S</i> Reverse Thrusters!<br>
        <i class="kbd">A</i> Turn Left<br>
        <i class="kbd">D</i> Turn Right<br>
        <i class="kbd">F</i> Fire Bullet<br>
        <i class="kbd">Q</i> EMERGENCY STOP<br>
      </p> -->

      <a href='#' class="next" onclick='page2()'>Continue</a>
      </p>
    </div>
   </div>

   <div id='overlay'>
    <div>
      <p>Asteroids are your friends.. until your shields are depleted..
        Use them for cover, or just watch the physics unfold!

      <br>Player 2's AI will rotate to track you and destroy you!

      <br>You are invulnerable for 3 seconds every time an
      asteroid round respawns.
      <br>Your shields can take 3 hits; after that, be careful!
      <br>The slightest space debris will destroy your craft.


      <br>Your ship will become vulnerable once you <br>
      <a href='#' class="launch" onclick='overlay()'>Launch Game</a>
      </p>
    </div>
   </div>

   <div id='gameOver'>
    <div class="ending">
      <p>Game Over!! You lost :(

      <br>Check out my other projects? <a class="home" href="http://www.parkjake.com">Home</a>
        <br>

      <a href='#' class="launch" onclick='restart()'>Restart Game?</a>
      </p>
    </div>
   </div>

   <div id='gameWinner'>
    <div class="ending">
      <p>A winner is you!!!

      <br>Check out my other projects? <a class="home" href="http://www.parkjake.com">Home</a>
        <br>

      <a href='#' class="launch" onclick='restart()'>Restart Game?</a>
      </p>
    </div>
   </div>


  </body>
</html>
